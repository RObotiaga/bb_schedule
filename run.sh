#!/bin/bash

# Устанавливаем "fail fast" режим. Если любая команда завершится с ошибкой,
# весь скрипт остановится.
set -e

echo "---[ Шаг 1/3: Запуск скачивания расписаний ]---"
python fetch_schedule.py

echo "\n---[ Шаг 2/3: Обработка файлов и создание/обновление БД ]---"
python process_schedules.py

echo "\n---[ Шаг 3/3: Запуск основного бота ]---"
# Команда exec заменяет текущий процесс (скрипт) на процесс бота.
# Это стандартная практика для Docker-контейнеров.
exec python bot.py